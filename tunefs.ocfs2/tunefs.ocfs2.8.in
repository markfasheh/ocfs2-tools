.TH "tunefs.ocfs2" "8" "July 2008" "Version @VERSION@" "OCFS2 Manual Pages"
.SH "NAME"
tunefs.ocfs2 \- Change \fIOCFS2\fR file system parameters.
.SH "SYNOPSIS"
\fBtunefs.ocfs2\fR [\fB\-J\fR \fIjournal-options\fR] [\fB\-L\fR \fIvolume-label\fR] [\fB\-M\fR \fImount-type\fR] [\fB\-N\fR \fInumber-of-node-slots\fR] [\fB\-Q\fR \fIquery-format\fR] [\fB\-qSUvV\fR] [\fB\-\-backup-super\fR] \fIdevice\fR  [\fIblocks-count\fR]
.SH "DESCRIPTION"
.PP
\fBtunefs.ocfs2\fR is used to adjust \fIOCFS2\fR file system parameters on disk.
In order to prevent data loss, \fBtunefs.ocfs2\fR will not perform any
action on the specified device if it is mounted on any node in the cluster.
This tool requires the \fIO2CB\fR cluster to be online.

.SH "OPTIONS"
.TP
\fB\-\-fs\-features=\fR\fR\fI[no]sparse...\fR
Turn specific file system features on or off. \fItunefs.ocfs2\fR will attempt to enable or disable the feature list provided. To enable a feature, include it in the list. To disable a feature, prepend \fBno\fR to the name. For a list of feature names, see the man page for \fBmkfs.ocfs2\fR.

.TP
\fB\-J, \-\-journal\-options\fR \fIoptions\fR
Modify the journal using options specified on the command\-line. Journal options are comma separated, and may take an argument using the equals ('=') sign. For a list of possible options, see the man page for \fBmkfs.ocfs2\fR.

.TP
\fB\-L, \-\-label\fR \fIvolume\-label\fR
Change the volume label of the file system. Limit the label
to under 64 bytes.

.TP
\fB\-M, \-\-mount\fR \fImount\-type\fR
Valid types are \fIlocal\fR and \fIcluster\fR. Local mount allows
users to mount the volume without the cluster overhead and works
only with \fIOCFS2\fR bundled with Linux kernels 2.6.20 or later.

.TP
\fB\-N, \-\-node\-slots\fR \fInumber\-of\-node\-slots\fR
Use this to increase the number of slots in order to increase the
number of nodes that can concurrently mount this volume. The maximum
value is 255.

.TP
\fB\-S, \-\-volume\-size\fR
Grow the size of the \fIOCFS2\fR file system. If \fIblocks-count\fR is not
specified, \fBtunefs.ocfs2\fR extends the volume to the current size of
the device.

.TP
\fB\-Q, \-\-query\fR \fIquery\-format\fR
Query the file system for its attributes like block size, label, etc. Query formats are modified
versions of the standard printf(3) formatting. The format is made up of static strings (which may
include standard C character escapes for newlines, tabs, and other special characters) and
printf(3) type formatters. The list of type specifiers is as follows:
.RS 1.2i
.TP
\fBB\fR	Block size in bytes
.TP
\fBT\fR	Cluster size in bytes
.TP
\fBN\fR	Number of node slots
.TP
\fBR\fR	Root directory block number
.TP
\fBY\fR	System directory block number
.TP
\fBP\fR	First cluster group block number
.TP
\fBV\fR	Volume label
.TP
\fBU\fR	Volume uuid
.TP
\fBM\fR	Compat flags
.TP
\fBH\fR	Incompat flags
.TP
\fBO\fR	RO Compat flags
.RE

.TP
\fB\-q, \-\-quiet\fR
Quiet mode.

.TP
\fB\-U, \-\-uuid\-reset\fR
Change the volume UUID (auto-generated) for the file system.

.TP
\fB\-v, \-\-verbose\fR
Verbose mode.

.TP
\fB\-V, \-\-version\fR
Show version and exit.

.TP
\fB\-\-backup\-super\fR
Backs up the superblock to fixed offsets (1G, 4G, 16G, 64G, 256G and 1T)
on disk. This option is useful for users to backup the superblock on volumes
that the user either explicitly disallowed while formatting, or, used a
version of \fImkfs.ocfs2\fR (1.2.2 or older) that did not provide this
facility.

.TP
\fB\-\-list-sparse\fR
Lists the files having holes. This option is useful when disabling the \fIsparse\fR feature.

.TP
\fIblocks-count\fR
During resize, \fBtunefs.ocfs2\fR automatically determines the size of the given
device and grows the file system such that it uses all of the available space on
the device. This optional argument specifies that the file system should be
extended to consume only the given number of file system blocks on the device.

.SH "EXAMPLES"
[root@node1 ~]# tunefs.ocfs2 -q -Q "BS=%5B\\nUUID=%U\\n" /dev/sda1
.br
BS= 2048 
.br
UUID=80d1adf4-3fde-40dd-9b56-d370462ace17
.br

.SH "SEE ALSO"
.BR mkfs.ocfs2(8)
.BR fsck.ocfs2(8)
.BR debugfs.ocfs2(8)
.BR mounted.ocfs2(8)
.BR ocfs2console(8)
.BR o2cb(7)

.SH "AUTHORS"
Oracle Corporation

.SH "COPYRIGHT"
Copyright \(co 2004, 2008 Oracle. All rights reserved.
