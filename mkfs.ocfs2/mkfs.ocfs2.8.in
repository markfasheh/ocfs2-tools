.TH "mkfs.ocfs2" "8" "March 2005" "Version @VERSION@" "OCFS2 Manual Pages"
.SH "NAME"
mkfs.ocfs2 \- Creates an \fIOCFS2\fR file system.
.SH "SYNOPSIS"
\fBmkfs.ocfs2\fR [ \fB\-b\fR \fIblock\-size\fR ] [ \fB\-C\fR \fIcluster\-size\fR ] [ \fB\-L\fR \fIvolume\-label\fR ] [ \fB\-N\fR \fInumber\-of\-nodes\fR ] [ \fB\-J\fR \fIjournal\-options\fR ] [ \fB\-F\fR ] [ \fB\-q\fR ] [ \fB\-v\fR ] [ \fB\-V\fR ] \fIdevice\fR [ \fIblocks-count\fI ]
.SH "DESCRIPTION"
.PP 
\fBmkfs.ocfs2\fR is used to create an \fIOCFS2\fR file system on a \fIdevice\fR, 
usually a partition on a shared disk. In order to prevent data loss,
\fBmkfs.ocfs2\fR will not format an existing \fIOCFS2\fR volume if that
volume is mounted on any node in the cluster. This tool requires the \fIO2CB\fR
cluster service to be up.

.SH "OPTIONS"
.TP
\fB\-b\fR \fIblock\-size\fR
Valid block size values are 512, 1K, 2K and 4K bytes per block. If omitted,
a value will be hueristically determined by the file system size.  A block size
of 512 bytes is never recommended. Choose 1K, 2K or 4K.

.TP
\fB\-C\fR \fIcluster\-size\fR
Valid cluster size values are 4K, 8K, 16K, 32K, 64K, 128K, 256K,
512K and 1M. If omitted, a value will be hueristically determined by the
file system size. For volumes expected to store large files, like database files,
a \fIcluster\-size\fR of 128K or more is recommended. For others, 16K\-64K.

.TP
\fIblocks-count\fR
Usually \fBmkfs.ocfs2\fR automatically determines the size of the given device
and creates a file system that uses all of the available space on the 
device.  This optional argument specifies that the file system should only
consume the given number of file system blocks (see \fB-b\fR) on the device.

.TP
\fB\-L\fR \fIvolume\-label\fR
Set the volume label for the file system. This is 
useful for mounting\-by\-label. Limit the label length to under 64 bytes.

.TP
\fB\-N\fR \fInumber\-of\-node\-slots\fR
Valid number ranges from 1 to 255. This number specifies the maximum
number of nodes that can concurrently mount the partition. If omitted,
the number defaults to 4. This number can be later increased using \fItunefs.ocfs2\fR.

.TP
\fB\-J\fR \fIjournal\-options\fR 
Create the journal using options specified on the command\-line. Journal
options are comma separated, and may take an argument using the equals
('=') sign. The following journal options are supported:
.RS 1.2i
.TP
\fBsize\fR=\fIjournal\-size\fR
Create a journal of size \fIjournal\-size\fR. Minimum size is 4M.
If omitted, a value is heuristically determined by the file system size.
.RE

.TP
\fB\-F\fR
For existing \fIOCFS2\fR volumes, \fImkfs.ocfs2\fR ensures the volume
is not mounted on any node in the cluster before formatting. For that to
work, \fImkfs.ocfs2\fR expects the \fIO2CB\fR cluster service to be running.
Specify this option to disable this check.

.TP
\fB\-q\fR 
Quiet mode. 

.TP
\fB\-v\fR 
Verbose mode.

.TP
\fB\-V\fR 
Print version and exit.

.SH "SEE ALSO"
.BR debugfs.ocfs2(8)
.BR fsck.ocfs2(8)
.BR tunefs.ocfs2(8)
.BR mounted.ocfs2(8)
.BR ocfs2console(8)
.BR ocfs2cdsl(8)

.SH "AUTHORS"
Oracle Corporation

.SH "COPYRIGHT"
Copyright \(co 2004, 2005 Oracle. All rights reserved.
